<!DOCTYPE html>
<html>
<head>
    <title>Content Moderation Debug</title>
</head>
<body>
    <h1>Content Moderation Debug Test</h1>
    
    <div>
        <label>Test Content:</label>
        <input type="text" id="testContent" value="fuck this project" style="width: 300px;">
        <button onclick="testModeration()">Test Moderation</button>
    </div>
    
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>

    <script>
        async function testModeration() {
            const content = document.getElementById('testContent').value;
            const resultDiv = document.getElementById('result');
            
            resultDiv.innerHTML = 'Testing moderation...';
            
            try {
                // Test both local and production backends
                const backends = [
                    'http://localhost:3001',
                    'https://launchit-ai-backend.onrender.com'
                ];
                
                for (const backend of backends) {
                    try {
                        console.log(`Testing backend: ${backend}`);
                        
                        const response = await fetch(`${backend}/api/moderate`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                content: content,
                                contentType: 'test',
                                userId: 'test-user-123'
                            }),
                        });

                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        const result = await response.json();
                        
                        resultDiv.innerHTML += `<div style="margin: 10px 0; padding: 10px; background: #f0f0f0;">
                            <strong>Backend:</strong> ${backend}<br>
                            <strong>Result:</strong> ${JSON.stringify(result, null, 2)}
                        </div>`;
                        
                        console.log(`Backend ${backend} result:`, result);
                        
                    } catch (error) {
                        resultDiv.innerHTML += `<div style="margin: 10px 0; padding: 10px; background: #ffebee; color: #c62828;">
                            <strong>Backend:</strong> ${backend}<br>
                            <strong>Error:</strong> ${error.message}
                        </div>`;
                        console.error(`Backend ${backend} error:`, error);
                    }
                }
                
            } catch (error) {
                resultDiv.innerHTML = `<div style="color: red;">Error: ${error.message}</div>`;
                console.error('Test error:', error);
            }
        }
    </script>
</body>
</html> 